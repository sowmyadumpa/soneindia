/*
 *     Licensed to the Apache Software Foundation (ASF) under one
 *     or more contributor license agreements.  See the NOTICE file
 *     distributed with this work for additional information
 *     regarding copyright ownership.  The ASF licenses this file
 *     to you under the Apache License, Version 2.0 (the
 *     "License"); you may not use this file except in compliance
 *     with the License.  You may obtain a copy of the License at
 *
 *       http://www.apache.org/licenses/LICENSE-2.0
 *
 *     Unless required by applicable law or agreed to in writing,
 *     software distributed under the License is distributed on an
 *     "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 *     KIND, either express or implied.  See the License for the
 *     specific language governing permissions and limitations
 *     under the License.
 */
// Version 1.2.0
if(typeof PhoneGap=="undefined"){if(typeof DeviceInfo!="object")var DeviceInfo={};var PhoneGap={queue:{ready:!0,commands:[],timer:null},documentEventHandler:{},windowEventHandler:{}};PhoneGap.resources={base:!0},PhoneGap.hasResource=function(e){return PhoneGap.resources[e]},PhoneGap.addResource=function(e){PhoneGap.resources[e]=!0},PhoneGap.Channel=function(e){this.type=e,this.handlers={},this.guid=0,this.fired=!1,this.enabled=!0},PhoneGap.Channel.prototype.subscribe=function(e,t,n){if(e===null)return;var r=e;return typeof t=="object"&&typeof e=="function"&&(r=PhoneGap.close(t,e)),n=n||r.observer_guid||e.observer_guid||this.guid++,r.observer_guid=n,e.observer_guid=n,this.handlers[n]=r,n},PhoneGap.Channel.prototype.subscribeOnce=function(e,t){var n=null,r=this,i=function(){e.apply(t||null,arguments),r.unsubscribe(n)};return this.fired?(typeof t=="object"&&typeof e=="function"&&(e=PhoneGap.close(t,e)),e.apply(this,this.fireArgs)):n=this.subscribe(i),n},PhoneGap.Channel.prototype.unsubscribe=function(e){typeof e=="function"&&(e=e.observer_guid),this.handlers[e]=null,delete this.handlers[e]},PhoneGap.Channel.prototype.fire=function(e){if(this.enabled){var t=!1,n,r,i;for(n in this.handlers)this.handlers.hasOwnProperty(n)&&(r=this.handlers[n],typeof r=="function"&&(i=r.apply(this,arguments)===!1,t=t||i));return this.fired=!0,this.fireArgs=arguments,!t}return!0},PhoneGap.Channel.join=function(e,t){var n=t.length,r=function(){--n||e()},i=n,s;for(s=0;s<i;s++)t[s].fired?n--:t[s].subscribeOnce(r);n||e()},PhoneGap.available=DeviceInfo.uuid!==undefined,PhoneGap.addConstructor=function(e){PhoneGap.onPhoneGapInit.subscribeOnce(function(){try{e()}catch(t){console.log("Failed to run constructor: "+t)}})},window.plugins||(window.plugins={}),PhoneGap.addPlugin=function(e,t){window.plugins[e]?console.log("Error: Plugin "+e+" already exists."):window.plugins[e]=t},PhoneGap.onDOMContentLoaded=new PhoneGap.Channel("onDOMContentLoaded"),PhoneGap.onNativeReady=new PhoneGap.Channel("onNativeReady"),PhoneGap.onPhoneGapInit=new PhoneGap.Channel("onPhoneGapInit"),PhoneGap.onPhoneGapReady=new PhoneGap.Channel("onPhoneGapReady"),PhoneGap.onPhoneGapInfoReady=new PhoneGap.Channel("onPhoneGapInfoReady"),PhoneGap.onPhoneGapConnectionReady=new PhoneGap.Channel("onPhoneGapConnectionReady"),PhoneGap.onDestroy=new PhoneGap.Channel("onDestroy"),PhoneGap.onDestroy.subscribeOnce(function(){PhoneGap.shuttingDown=!0}),PhoneGap.shuttingDown=!1,typeof _nativeReady!="undefined"&&PhoneGap.onNativeReady.fire(),PhoneGap.onDeviceReady=new PhoneGap.Channel("onDeviceReady"),PhoneGap.deviceReadyChannelsArray=[PhoneGap.onPhoneGapReady,PhoneGap.onPhoneGapInfoReady,PhoneGap.onPhoneGapConnectionReady],PhoneGap.deviceReadyChannelsMap={},PhoneGap.waitForInitialization=function(e){if(e){var t=new PhoneGap.Channel(e);PhoneGap.deviceReadyChannelsMap[e]=t,PhoneGap.deviceReadyChannelsArray.push(t)}},PhoneGap.initializationComplete=function(e){var t=PhoneGap.deviceReadyChannelsMap[e];t&&t.fire()},PhoneGap.Channel.join(function(){setTimeout(function(){if(PhoneGap.UsePolling)PhoneGap.JSCallbackPolling();else{var e=prompt("usePolling","gap_callbackServer:");PhoneGap.UsePolling=e,e=="true"?(PhoneGap.UsePolling=!0,PhoneGap.JSCallbackPolling()):(PhoneGap.UsePolling=!1,PhoneGap.JSCallback())}},1),PhoneGap.onPhoneGapInit.fire(),PhoneGap.onPhoneGapReady.fire(),PhoneGap.Channel.join(function(){prompt("","gap_init:"),PhoneGap.onDeviceReady.fire()},PhoneGap.deviceReadyChannelsArray)},[PhoneGap.onDOMContentLoaded,PhoneGap.onNativeReady]),document.addEventListener("DOMContentLoaded",function(){PhoneGap.onDOMContentLoaded.fire()},!1),PhoneGap.m_document_addEventListener=document.addEventListener,PhoneGap.m_window_addEventListener=window.addEventListener,PhoneGap.addWindowEventHandler=function(e,t){PhoneGap.windowEventHandler[e]=t},PhoneGap.addDocumentEventHandler=function(e,t){PhoneGap.documentEventHandler[e]=t},document.addEventListener=function(e,t,n){var r=e.toLowerCase();if(r==="deviceready")PhoneGap.onDeviceReady.subscribeOnce(t);else{if(r==="backbutton")PhoneGap.exec(null,null,"App","overrideBackbutton",[!0]);else if(typeof PhoneGap.documentEventHandler[r]!="undefined"&&PhoneGap.documentEventHandler[r](r,t,!0))return;PhoneGap.m_document_addEventListener.call(document,e,t,n)}},window.addEventListener=function(e,t,n){var r=e.toLowerCase();if(typeof PhoneGap.windowEventHandler[r]!="undefined"&&PhoneGap.windowEventHandler[r](r,t,!0))return;PhoneGap.m_window_addEventListener.call(window,e,t,n)},PhoneGap.m_document_removeEventListener=document.removeEventListener,PhoneGap.m_window_removeEventListener=window.removeEventListener,document.removeEventListener=function(e,t,n){var r=e.toLowerCase();r==="backbutton"&&PhoneGap.exec(null,null,"App","overrideBackbutton",[!1]);if(typeof PhoneGap.documentEventHandler[r]!="undefined"&&PhoneGap.documentEventHandler[r](r,t,!1))return;PhoneGap.m_document_removeEventListener.call(document,e,t,n)},window.removeEventListener=function(e,t,n){var r=e.toLowerCase();if(typeof PhoneGap.windowEventHandler[r]!="undefined"&&PhoneGap.windowEventHandler[r](r,t,!1))return;PhoneGap.m_window_removeEventListener.call(window,e,t,n)},PhoneGap.fireDocumentEvent=function(e,t){var n=document.createEvent("Events");n.initEvent(e);if(t)for(var r in t)n[r]=t[r];document.dispatchEvent(n)},PhoneGap.fireWindowEvent=function(e,t){var n=document.createEvent("Events");n.initEvent(e);if(t)for(var r in t)n[r]=t[r];window.dispatchEvent(n)},PhoneGap.clone=function(e){var t,n;if(!e)return e;if(e instanceof Array){n=[];for(t=0;t<e.length;++t)n.push(PhoneGap.clone(e[t]));return n}if(typeof e=="function")return e;if(e instanceof Object){if(e instanceof Date)return e;n={};for(t in e)if(!(t in n)||n[t]!==e[t])n[t]=PhoneGap.clone(e[t]);return n}return e},PhoneGap.callbackId=0,PhoneGap.callbacks={},PhoneGap.callbackStatus={NO_RESULT:0,OK:1,CLASS_NOT_FOUND_EXCEPTION:2,ILLEGAL_ACCESS_EXCEPTION:3,INSTANTIATION_EXCEPTION:4,MALFORMED_URL_EXCEPTION:5,IO_EXCEPTION:6,INVALID_ACTION:7,JSON_EXCEPTION:8,ERROR:9},PhoneGap.exec=function(success,fail,service,action,args){try{var callbackId=service+PhoneGap.callbackId++;if(success||fail)PhoneGap.callbacks[callbackId]={success:success,fail:fail};var r=prompt(JSON.stringify(args),"gap:"+JSON.stringify([service,action,callbackId,!0]));if(r.length>0){eval("var v="+r+";");if(v.status===PhoneGap.callbackStatus.OK){if(success){try{success(v.message)}catch(e){console.log("Error in success callback: "+callbackId+" = "+e)}v.keepCallback||delete PhoneGap.callbacks[callbackId]}return v.message}if(v.status!==PhoneGap.callbackStatus.NO_RESULT){console.log("Error: Status="+v.status+" Message="+v.message);if(fail){try{fail(v.message)}catch(e1){console.log("Error in error callback: "+callbackId+" = "+e1)}v.keepCallback||delete PhoneGap.callbacks[callbackId]}return null}v.keepCallback||delete PhoneGap.callbacks[callbackId]}}catch(e2){console.log("Error: "+e2)}},PhoneGap.callbackSuccess=function(e,t){if(PhoneGap.callbacks[e]){if(t.status===PhoneGap.callbackStatus.OK)try{PhoneGap.callbacks[e].success&&PhoneGap.callbacks[e].success(t.message)}catch(n){console.log("Error in success callback: "+e+" = "+n)}t.keepCallback||delete PhoneGap.callbacks[e]}},PhoneGap.callbackError=function(e,t){if(PhoneGap.callbacks[e]){try{PhoneGap.callbacks[e].fail&&PhoneGap.callbacks[e].fail(t.message)}catch(n){console.log("Error in error callback: "+e+" = "+n)}t.keepCallback||delete PhoneGap.callbacks[e]}},PhoneGap.run_command=function(){if(!PhoneGap.available||!PhoneGap.queue.ready)return;PhoneGap.queue.ready=!1;var e=PhoneGap.queue.commands.shift();PhoneGap.queue.commands.length===0&&(clearInterval(PhoneGap.queue.timer),PhoneGap.queue.timer=null);var t=[],n=null,r;for(r=1;r<e.length;r++){var i=e[r];if(i===undefined||i===null)i="";typeof i=="object"?n=i:t.push(encodeURIComponent(i))}var s="gap://"+e[0]+"/"+t.join("/");if(n!==null){var o,u=[];for(o in n)n.hasOwnProperty(o)&&typeof o=="string"&&u.push(encodeURIComponent(o)+"="+encodeURIComponent(n[o]));u.length>0&&(s+="?"+u.join("&"))}document.location=s},PhoneGap.JSCallbackPort=null,PhoneGap.JSCallbackToken=null,PhoneGap.JSCallback=function(){if(PhoneGap.shuttingDown)return;if(PhoneGap.UsePolling){PhoneGap.JSCallbackPolling();return}var xmlhttp=new XMLHttpRequest;xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState===4){if(PhoneGap.shuttingDown)return;if(xmlhttp.status===200){var msg=decodeURIComponent(xmlhttp.responseText);setTimeout(function(){try{var t=eval(msg)}catch(e){console.log("JSCallback: Message from Server: "+msg),console.log("JSCallback Error: "+e)}},1),setTimeout(PhoneGap.JSCallback,1)}else xmlhttp.status===404?setTimeout(PhoneGap.JSCallback,10):xmlhttp.status===403?console.log("JSCallback Error: Invalid token.  Stopping callbacks."):xmlhttp.status===503?console.log("JSCallback Server Closed: Stopping callbacks."):xmlhttp.status===400?console.log("JSCallback Error: Bad request.  Stopping callbacks."):(console.log("JSCallback Error: Request failed."),PhoneGap.UsePolling=!0,PhoneGap.JSCallbackPolling())}},PhoneGap.JSCallbackPort===null&&(PhoneGap.JSCallbackPort=prompt("getPort","gap_callbackServer:")),PhoneGap.JSCallbackToken===null&&(PhoneGap.JSCallbackToken=prompt("getToken","gap_callbackServer:")),xmlhttp.open("GET","http://127.0.0.1:"+PhoneGap.JSCallbackPort+"/"+PhoneGap.JSCallbackToken,!0),xmlhttp.send()},PhoneGap.JSCallbackPollingPeriod=50,PhoneGap.UsePolling=!1,PhoneGap.JSCallbackPolling=function(){if(PhoneGap.shuttingDown)return;if(!PhoneGap.UsePolling){PhoneGap.JSCallback();return}var msg=prompt("","gap_poll:");msg?(setTimeout(function(){try{var t=eval(""+msg)}catch(e){console.log("JSCallbackPolling: Message from Server: "+msg),console.log("JSCallbackPolling Error: "+e)}},1),setTimeout(PhoneGap.JSCallbackPolling,1)):setTimeout(PhoneGap.JSCallbackPolling,PhoneGap.JSCallbackPollingPeriod)},PhoneGap.createUUID=function(){return PhoneGap.UUIDcreatePart(4)+"-"+PhoneGap.UUIDcreatePart(2)+"-"+PhoneGap.UUIDcreatePart(2)+"-"+PhoneGap.UUIDcreatePart(2)+"-"+PhoneGap.UUIDcreatePart(6)},PhoneGap.UUIDcreatePart=function(e){var t="",n,r;for(n=0;n<e;n++)r=parseInt(Math.random()*256,0).toString(16),r.length===1&&(r="0"+r),t+=r;return t},PhoneGap.close=function(e,t,n){return typeof n=="undefined"?function(){return t.apply(e,arguments)}:function(){return t.apply(e,n)}},PhoneGap.includeJavascript=function(e,t){var n=document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript",typeof t=="function"&&(r.onload=t),r.src=e,n.appendChild(r)}}if(!PhoneGap.hasResource("accelerometer")){PhoneGap.addResource("accelerometer");var Acceleration=function(e,t,n){this.x=e,this.y=t,this.z=n,this.timestamp=(new Date).getTime()},Accelerometer=function(){this.lastAcceleration=null,this.timers={}};Accelerometer.ERROR_MSG=["Not running","Starting","","Failed to start"],Accelerometer.prototype.getCurrentAcceleration=function(e,t,n){if(typeof e!="function"){console.log("Accelerometer Error: successCallback is not a function");return}if(t&&typeof t!="function"){console.log("Accelerometer Error: errorCallback is not a function");return}PhoneGap.exec(e,t,"Accelerometer","getAcceleration",[])},Accelerometer.prototype.watchAcceleration=function(e,t,n){var r=n!==undefined?n.frequency:1e4;if(typeof e!="function"){console.log("Accelerometer Error: successCallback is not a function");return}if(t&&typeof t!="function"){console.log("Accelerometer Error: errorCallback is not a function");return}PhoneGap.exec(function(e){e<r+1e4&&PhoneGap.exec(null,null,"Accelerometer","setTimeout",[r+1e4])},function(e){},"Accelerometer","getTimeout",[]);var i=PhoneGap.createUUID();return navigator.accelerometer.timers[i]=setInterval(function(){PhoneGap.exec(e,t,"Accelerometer","getAcceleration",[])},r?r:1),i},Accelerometer.prototype.clearWatch=function(e){e&&navigator.accelerometer.timers[e]!==undefined&&(clearInterval(navigator.accelerometer.timers[e]),delete navigator.accelerometer.timers[e])},PhoneGap.addConstructor(function(){typeof navigator.accelerometer=="undefined"&&(navigator.accelerometer=new Accelerometer)})}PhoneGap.hasResource("app")||(PhoneGap.addResource("app"),function(){var e=function(){};e.prototype.clearCache=function(){PhoneGap.exec(null,null,"App","clearCache",[])},e.prototype.loadUrl=function(e,t){PhoneGap.exec(null,null,"App","loadUrl",[e,t])},e.prototype.cancelLoadUrl=function(){PhoneGap.exec(null,null,"App","cancelLoadUrl",[])},e.prototype.clearHistory=function(){PhoneGap.exec(null,null,"App","clearHistory",[])},e.prototype.backHistory=function(){PhoneGap.exec(null,null,"App","backHistory",[])},e.prototype.overrideBackbutton=function(e){PhoneGap.exec(null,null,"App","overrideBackbutton",[e])},e.prototype.exitApp=function(){return PhoneGap.exec(null,null,"App","exitApp",[])},e.prototype.addWhiteListEntry=function(e,t){return PhoneGap.exec(null,null,"App","addWhiteListEntry",[e,t])},PhoneGap.addConstructor(function(){navigator.app=new e})}());if(!PhoneGap.hasResource("battery")){PhoneGap.addResource("battery");var Battery=function(){this._level=null,this._isPlugged=null,this._batteryListener=[],this._lowListener=[],this._criticalListener=[]};Battery.prototype.eventHandler=function(e,t,n){var r=navigator.battery;if(n){r._batteryListener.length===0&&r._lowListener.length===0&&r._criticalListener.length===0&&PhoneGap.exec(r._status,r._error,"Battery","start",[]);if(e==="batterystatus"){var i=r._batteryListener.indexOf(t);i===-1&&r._batteryListener.push(t)}else if(e==="batterylow"){var i=r._lowListener.indexOf(t);i===-1&&r._lowListener.push(t)}else if(e==="batterycritical"){var i=r._criticalListener.indexOf(t);i===-1&&r._criticalListener.push(t)}}else{if(e==="batterystatus"){var i=r._batteryListener.indexOf(t);i>-1&&r._batteryListener.splice(i,1)}else if(e==="batterylow"){var i=r._lowListener.indexOf(t);i>-1&&r._lowListener.splice(i,1)}else if(e==="batterycritical"){var i=r._criticalListener.indexOf(t);i>-1&&r._criticalListener.splice(i,1)}r._batteryListener.length===0&&r._lowListener.length===0&&r._criticalListener.length===0&&PhoneGap.exec(null,null,"Battery","stop",[])}},Battery.prototype._status=function(e){if(e){var t=this;if(t._level!=e.level||t._isPlugged!=e.isPlugged){PhoneGap.fireWindowEvent("batterystatus",e);if(e.level==20||e.level==5)e.level==20?PhoneGap.fireWindowEvent("batterylow",e):PhoneGap.fireWindowEvent("batterycritical",e)}t._level=e.level,t._isPlugged=e.isPlugged}},Battery.prototype._error=function(e){console.log("Error initializing Battery: "+e)},PhoneGap.addConstructor(function(){typeof navigator.battery=="undefined"&&(navigator.battery=new Battery,PhoneGap.addWindowEventHandler("batterystatus",navigator.battery.eventHandler),PhoneGap.addWindowEventHandler("batterylow",navigator.battery.eventHandler),PhoneGap.addWindowEventHandler("batterycritical",navigator.battery.eventHandler))})}if(!PhoneGap.hasResource("camera")){PhoneGap.addResource("camera");var Camera=function(){this.successCallback=null,this.errorCallback=null,this.options=null};Camera.DestinationType={DATA_URL:0,FILE_URI:1},Camera.prototype.DestinationType=Camera.DestinationType,Camera.EncodingType={JPEG:0,PNG:1},Camera.prototype.EncodingType=Camera.EncodingType,Camera.MediaType={PICTURE:0,VIDEO:1,ALLMEDIA:2},Camera.prototype.MediaType=Camera.MediaType,Camera.PictureSourceType={PHOTOLIBRARY:0,CAMERA:1,SAVEDPHOTOALBUM:2},Camera.prototype.PictureSourceType=Camera.PictureSourceType,Camera.prototype.getPicture=function(e,t,n){if(typeof e!="function"){console.log("Camera Error: successCallback is not a function");return}if(t&&typeof t!="function"){console.log("Camera Error: errorCallback is not a function");return}if(n===null||typeof n=="undefined")n={};if(n.quality===null||typeof n.quality=="undefined")n.quality=80;if(n.maxResolution===null||typeof n.maxResolution=="undefined")n.maxResolution=0;if(n.destinationType===null||typeof n.destinationType=="undefined")n.destinationType=Camera.DestinationType.DATA_URL;if(n.sourceType===null||typeof n.sourceType=="undefined")n.sourceType=Camera.PictureSourceType.CAMERA;if(n.encodingType===null||typeof n.encodingType=="undefined")n.encodingType=Camera.EncodingType.JPEG;if(n.mediaType===null||typeof n.mediaType=="undefined")n.mediaType=Camera.MediaType.PICTURE;if(n.targetWidth===null||typeof n.targetWidth=="undefined")n.targetWidth=-1;else if(typeof n.targetWidth=="string"){var r=new Number(n.targetWidth);isNaN(r)===!1&&(n.targetWidth=r.valueOf())}if(n.targetHeight===null||typeof n.targetHeight=="undefined")n.targetHeight=-1;else if(typeof n.targetHeight=="string"){var i=new Number(n.targetHeight);isNaN(i)===!1&&(n.targetHeight=i.valueOf())}PhoneGap.exec(e,t,"Camera","takePicture",[n])},PhoneGap.addConstructor(function(){typeof navigator.camera=="undefined"&&(navigator.camera=new Camera)})}if(!PhoneGap.hasResource("capture")){PhoneGap.addResource("capture");var MediaFile=function(e,t,n,r,i){this.name=e||null,this.fullPath=t||null,this.type=n||null,this.lastModifiedDate=r||null,this.size=i||0};MediaFile.prototype.getFormatData=function(e,t){PhoneGap.exec(e,t,"Capture","getFormatData",[this.fullPath,this.type])};var MediaFileData=function(e,t,n,r,i){this.codecs=e||null,this.bitrate=t||0,this.height=n||0,this.width=r||0,this.duration=i||0},CaptureError=function(){this.code=null};CaptureError.CAPTURE_INTERNAL_ERR=0,CaptureError.CAPTURE_APPLICATION_BUSY=1,CaptureError.CAPTURE_INVALID_ARGUMENT=2,CaptureError.CAPTURE_NO_MEDIA_FILES=3,CaptureError.CAPTURE_NOT_SUPPORTED=20;var Capture=function(){this.supportedAudioModes=[],this.supportedImageModes=[],this.supportedVideoModes=[]};Capture.prototype.captureAudio=function(e,t,n){PhoneGap.exec(e,t,"Capture","captureAudio",[n])},Capture.prototype.captureImage=function(e,t,n){PhoneGap.exec(e,t,"Capture","captureImage",[n])},Capture.prototype._castMediaFile=function(e){var t=[],n;for(n=0;n<e.message.length;n++){var r=new MediaFile;r.name=e.message[n].name,r.fullPath=e.message[n].fullPath,r.type=e.message[n].type,r.lastModifiedDate=e.message[n].lastModifiedDate,r.size=e.message[n].size,t.push(r)}return e.message=t,e},Capture.prototype.captureVideo=function(e,t,n){PhoneGap.exec(e,t,"Capture","captureVideo",[n])};var ConfigurationData=function(){this.type=null,this.height=0,this.width=0},CaptureImageOptions=function(){this.limit=1,this.mode=null},CaptureVideoOptions=function(){this.limit=1,this.duration=0,this.mode=null},CaptureAudioOptions=function(){this.limit=1,this.duration=0,this.mode=null};PhoneGap.addConstructor(function(){typeof navigator.device=="undefined"&&(navigator.device=window.device=new Device),typeof navigator.device.capture=="undefined"&&(navigator.device.capture=window.device.capture=new Capture)})}if(!PhoneGap.hasResource("compass")){PhoneGap.addResource("compass"),CompassError=function(){this.code=null},CompassError.COMPASS_INTERNAL_ERR=0,CompassError.COMPASS_NOT_SUPPORTED=20,CompassHeading=function(){this.magneticHeading=null,this.trueHeading=null,this.headingAccuracy=null,this.timestamp=null};var Compass=function(){this.lastHeading=null,this.timers={}};Compass.ERROR_MSG=["Not running","Starting","","Failed to start"],Compass.prototype.getCurrentHeading=function(e,t,n){if(typeof e!="function"){console.log("Compass Error: successCallback is not a function");return}if(t&&typeof t!="function"){console.log("Compass Error: errorCallback is not a function");return}PhoneGap.exec(e,t,"Compass","getHeading",[])},Compass.prototype.watchHeading=function(e,t,n){var r=n!==undefined?n.frequency:100;if(typeof e!="function"){console.log("Compass Error: successCallback is not a function");return}if(t&&typeof t!="function"){console.log("Compass Error: errorCallback is not a function");return}PhoneGap.exec(function(e){e<r+1e4&&PhoneGap.exec(null,null,"Compass","setTimeout",[r+1e4])},function(e){},"Compass","getTimeout",[]);var i=PhoneGap.createUUID();return navigator.compass.timers[i]=setInterval(function(){PhoneGap.exec(e,t,"Compass","getHeading",[])},r?r:1),i},Compass.prototype.clearWatch=function(e){e&&navigator.compass.timers[e]&&(clearInterval(navigator.compass.timers[e]),delete navigator.compass.timers[e])},Compass.prototype._castDate=function(e){if(e.message.timestamp){var t=new Date(e.message.timestamp);e.message.timestamp=t}return e},PhoneGap.addConstructor(function(){typeof navigator.compass=="undefined"&&(navigator.compass=new Compass)})}if(!PhoneGap.hasResource("contact")){PhoneGap.addResource("contact");var Contact=function(e,t,n,r,i,s,o,u,a,f,l,c,h,p){this.id=e||null,this.rawId=null,this.displayName=t||null,this.name=n||null,this.nickname=r||null,this.phoneNumbers=i||null,this.emails=s||null,this.addresses=o||null,this.ims=u||null,this.organizations=a||null,this.birthday=f||null,this.note=l||null,this.photos=c||null,this.categories=h||null,this.urls=p||null},ContactError=function(){this.code=null};ContactError.UNKNOWN_ERROR=0,ContactError.INVALID_ARGUMENT_ERROR=1,ContactError.TIMEOUT_ERROR=2,ContactError.PENDING_OPERATION_ERROR=3,ContactError.IO_ERROR=4,ContactError.NOT_SUPPORTED_ERROR=5,ContactError.PERMISSION_DENIED_ERROR=20,Contact.prototype.remove=function(e,t){if(this.id===null){var n=new ContactError;n.code=ContactError.UNKNOWN_ERROR,t(n)}else PhoneGap.exec(e,t,"Contacts","remove",[this.id])},Contact.prototype.clone=function(){var e=PhoneGap.clone(this),t;e.id=null,e.rawId=null;if(e.phoneNumbers)for(t=0;t<e.phoneNumbers.length;t++)e.phoneNumbers[t].id=null;if(e.emails)for(t=0;t<e.emails.length;t++)e.emails[t].id=null;if(e.addresses)for(t=0;t<e.addresses.length;t++)e.addresses[t].id=null;if(e.ims)for(t=0;t<e.ims.length;t++)e.ims[t].id=null;if(e.organizations)for(t=0;t<e.organizations.length;t++)e.organizations[t].id=null;if(e.tags)for(t=0;t<e.tags.length;t++)e.tags[t].id=null;if(e.photos)for(t=0;t<e.photos.length;t++)e.photos[t].id=null;if(e.urls)for(t=0;t<e.urls.length;t++)e.urls[t].id=null;return e},Contact.prototype.save=function(e,t){PhoneGap.exec(e,t,"Contacts","save",[this])};var ContactName=function(e,t,n,r,i,s){this.formatted=e||null,this.familyName=t||null,this.givenName=n||null,this.middleName=r||null,this.honorificPrefix=i||null,this.honorificSuffix=s||null},ContactField=function(e,t,n){this.id=null,this.type=e||null,this.value=t||null,this.pref=n||null},ContactAddress=function(e,t,n,r,i,s,o,u){this.id=null,this.pref=e||null,this.type=t||null,this.formatted=n||null,this.streetAddress=r||null,this.locality=i||null,this.region=s||null,this.postalCode=o||null,this.country=u||null},ContactOrganization=function(e,t,n,r,i){this.id=null,this.pref=e||null,this.type=t||null,this.name=n||null,this.department=r||null,this.title=i||null},Contacts=function(){this.inProgress=!1,this.records=[]};Contacts.prototype.find=function(e,t,n,r){if(t===null)throw new TypeError("You must specify a success callback for the find command.");e===null||e==="undefined"||e.length==="undefined"||e.length<=0?typeof n=="function"&&n({code:ContactError.INVALID_ARGUMENT_ERROR}):PhoneGap.exec(t,n,"Contacts","search",[e,r])},Contacts.prototype.create=function(e){var t,n=new Contact;for(t in e)n[t]!=="undefined"&&(n[t]=e[t]);return n},Contacts.prototype.cast=function(e){var t=[],n;for(n=0;n<e.message.length;n++)t.push(navigator.contacts.create(e.message[n]));return e.message=t,e};var ContactFindOptions=function(e,t){this.filter=e||"",this.multiple=t||!1};PhoneGap.addConstructor(function(){typeof navigator.contacts=="undefined"&&(navigator.contacts=new Contacts)})}if(!PhoneGap.hasResource("crypto")){PhoneGap.addResource("crypto");var Crypto=function(){};Crypto.prototype.encrypt=function(e,t,n){this.encryptWin=n,PhoneGap.exec(null,null,"Crypto","encrypt",[e,t])},Crypto.prototype.decrypt=function(e,t,n){this.decryptWin=n,PhoneGap.exec(null,null,"Crypto","decrypt",[e,t])},Crypto.prototype.gotCryptedString=function(e){this.encryptWin(e)},Crypto.prototype.getPlainString=function(e){this.decryptWin(e)},PhoneGap.addConstructor(function(){typeof navigator.Crypto=="undefined"&&(navigator.Crypto=new Crypto)})}if(!PhoneGap.hasResource("device")){PhoneGap.addResource("device");var Device=function(){this.available=PhoneGap.available,this.platform=null,this.version=null,this.name=null,this.uuid=null,this.phonegap=null;var e=this;this.getInfo(function(t){e.available=!0,e.platform=t.platform,e.version=t.version,e.name=t.name,e.uuid=t.uuid,e.phonegap=t.phonegap,PhoneGap.onPhoneGapInfoReady.fire()},function(t){e.available=!1,console.log("Error initializing PhoneGap: "+t),alert("Error initializing PhoneGap: "+t)})};Device.prototype.getInfo=function(e,t){if(typeof e!="function"){console.log("Device Error: successCallback is not a function");return}if(t&&typeof t!="function"){console.log("Device Error: errorCallback is not a function");return}PhoneGap.exec(e,t,"Device","getDeviceInfo",[])},Device.prototype.overrideBackButton=function(){console.log("Device.overrideBackButton() is deprecated.  Use App.overrideBackbutton(true)."),navigator.app.overrideBackbutton(!0)},Device.prototype.resetBackButton=function(){console.log("Device.resetBackButton() is deprecated.  Use App.overrideBackbutton(false)."),navigator.app.overrideBackbutton(!1)},Device.prototype.exitApp=function(){console.log("Device.exitApp() is deprecated.  Use App.exitApp()."),navigator.app.exitApp()},PhoneGap.addConstructor(function(){typeof navigator.device=="undefined"&&(navigator.device=window.device=new Device)})}if(!PhoneGap.hasResource("file")){PhoneGap.addResource("file");var FileProperties=function(e){this.filePath=e,this.size=0,this.lastModifiedDate=null},File=function(e,t,n,r,i){this.name=e||null,this.fullPath=t||null,this.type=n||null,this.lastModifiedDate=r||null,this.size=i||0},FileError=function(){this.code=null};FileError.NOT_FOUND_ERR=1,FileError.SECURITY_ERR=2,FileError.ABORT_ERR=3,FileError.NOT_READABLE_ERR=4,FileError.ENCODING_ERR=5,FileError.NO_MODIFICATION_ALLOWED_ERR=6,FileError.INVALID_STATE_ERR=7,FileError.SYNTAX_ERR=8,FileError.INVALID_MODIFICATION_ERR=9,FileError.QUOTA_EXCEEDED_ERR=10,FileError.TYPE_MISMATCH_ERR=11,FileError.PATH_EXISTS_ERR=12;var FileReader=function(){this.fileName="",this.readyState=0,this.result=null,this.error=null,this.onloadstart=null,this.onprogress=null,this.onload=null,this.onerror=null,this.onloadend=null,this.onabort=null};FileReader.EMPTY=0,FileReader.LOADING=1,FileReader.DONE=2,FileReader.prototype.abort=function(){var e;this.readyState=FileReader.DONE,this.result=null;var t=new FileError;t.code=t.ABORT_ERR,this.error=t,typeof this.onerror=="function"&&this.onerror({type:"error",target:this}),typeof this.onabort=="function"&&this.onabort({type:"abort",target:this}),typeof this.onloadend=="function"&&this.onloadend({type:"loadend",target:this})},FileReader.prototype.readAsText=function(e,t){this.fileName="",typeof e.fullPath=="undefined"?this.fileName=e:this.fileName=e.fullPath,this.readyState=FileReader.LOADING,typeof this.onloadstart=="function"&&this.onloadstart({type:"loadstart",target:this});var n=t?t:"UTF-8",r=this;PhoneGap.exec(function(e){var t;if(r.readyState===FileReader.DONE)return;r.result=e,typeof r.onload=="function"&&r.onload({type:"load",target:r}),r.readyState=FileReader.DONE,typeof r.onloadend=="function"&&r.onloadend({type:"loadend",target:r})},function(e){var t;if(r.readyState===FileReader.DONE)return;r.error=e,typeof r.onerror=="function"&&r.onerror({type:"error",target:r}),r.readyState=FileReader.DONE,typeof r.onloadend=="function"&&r.onloadend({type:"loadend",target:r})},"File","readAsText",[this.fileName,n])},FileReader.prototype.readAsDataURL=function(e){this.fileName="",typeof e.fullPath=="undefined"?this.fileName=e:this.fileName=e.fullPath,this.readyState=FileReader.LOADING,typeof this.onloadstart=="function"&&this.onloadstart({type:"loadstart",target:this});var t=this;PhoneGap.exec(function(e){var n;if(t.readyState===FileReader.DONE)return;t.result=e,typeof t.onload=="function"&&t.onload({type:"load",target:t}),t.readyState=FileReader.DONE,typeof t.onloadend=="function"&&t.onloadend({type:"loadend",target:t})},function(e){var n;if(t.readyState===FileReader.DONE)return;t.error=e,typeof t.onerror=="function"&&t.onerror({type:"error",target:t}),t.readyState=FileReader.DONE,typeof t.onloadend=="function"&&t.onloadend({type:"loadend",target:t})},"File","readAsDataURL",[this.fileName])},FileReader.prototype.readAsBinaryString=function(e){this.fileName=e},FileReader.prototype.readAsArrayBuffer=function(e){this.fileName=e};var FileWriter=function(e){this.fileName="",this.length=0,e&&(this.fileName=e.fullPath||e,this.length=e.size||0),this.position=0,this.readyState=0,this.result=null,this.error=null,this.onwritestart=null,this.onprogress=null,this.onwrite=null,this.onwriteend=null,this.onabort=null,this.onerror=null};FileWriter.INIT=0,FileWriter.WRITING=1,FileWriter.DONE=2,FileWriter.prototype.abort=function(){if(this.readyState===FileWriter.DONE||this.readyState===FileWriter.INIT)throw FileError.INVALID_STATE_ERR;var e=new FileError,t;e.code=e.ABORT_ERR,this.error=e,typeof this.onerror=="function"&&this.onerror({type:"error",target:this}),typeof this.onabort=="function"&&this.onabort({type:"abort",target:this}),this.readyState=FileWriter.DONE,typeof this.onwriteend=="function"&&this.onwriteend({type:"writeend",target:this})},FileWriter.prototype.write=function(e){if(this.readyState===FileWriter.WRITING)throw FileError.INVALID_STATE_ERR;this.readyState=FileWriter.WRITING;var t=this;typeof t.onwritestart=="function"&&t.onwritestart({type:"writestart",target:t}),PhoneGap.exec(function(e){var n;if(t.readyState===FileWriter.DONE)return;t.position+=e,t.length=t.position,typeof t.onwrite=="function"&&t.onwrite({type:"write",target:t}),t.readyState=FileWriter.DONE,typeof t.onwriteend=="function"&&t.onwriteend({type:"writeend",target:t})},function(e){var n;if(t.readyState===FileWriter.DONE)return;t.error=e,typeof t.onerror=="function"&&t.onerror({type:"error",target:t}),t.readyState=FileWriter.DONE,typeof t.onwriteend=="function"&&t.onwriteend({type:"writeend",target:t})},"File","write",[this.fileName,e,this.position])},FileWriter.prototype.seek=function(e){if(this.readyState===FileWriter.WRITING)throw FileError.INVALID_STATE_ERR;if(!e)return;e<0?this.position=Math.max(e+this.length,0):e>this.length?this.position=this.length:this.position=e},FileWriter.prototype.truncate=function(e){if(this.readyState===FileWriter.WRITING)throw FileError.INVALID_STATE_ERR;this.readyState=FileWriter.WRITING;var t=this;typeof t.onwritestart=="function"&&t.onwritestart({type:"writestart",target:this}),PhoneGap.exec(function(e){var n;if(t.readyState===FileWriter.DONE)return;t.length=e,t.position=Math.min(t.position,e),typeof t.onwrite=="function"&&t.onwrite({type:"write",target:t}),t.readyState=FileWriter.DONE,typeof t.onwriteend=="function"&&t.onwriteend({type:"writeend",target:t})},function(e){var n;if(t.readyState===FileWriter.DONE)return;t.error=e,typeof t.onerror=="function"&&t.onerror({type:"error",target:t}),t.readyState=FileWriter.DONE,typeof t.onwriteend=="function"&&t.onwriteend({type:"writeend",target:t})},"File","truncate",[this.fileName,e])};var Metadata=function(){this.modificationTime=null},Flags=function(e,t){this.create=e||!1,this.exclusive=t||!1},FileSystem=function(){this.name=null,this.root=null},DirectoryReader=function(e){this.fullPath=e||null};DirectoryReader.prototype.readEntries=function(e,t){PhoneGap.exec(e,t,"File","readEntries",[this.fullPath])};var DirectoryEntry=function(){this.isFile=!1,this.isDirectory=!0,this.name=null,this.fullPath=null,this.filesystem=null};DirectoryEntry.prototype.copyTo=function(e,t,n,r){PhoneGap.exec(n,r,"File","copyTo",[this.fullPath,e,t])},DirectoryEntry.prototype.getMetadata=function(e,t){PhoneGap.exec(e,t,"File","getMetadata",[this.fullPath])},DirectoryEntry.prototype.getParent=function(e,t){PhoneGap.exec(e,t,"File","getParent",[this.fullPath])},DirectoryEntry.prototype.moveTo=function(e,t,n,r){PhoneGap.exec(n,r,"File"
,"moveTo",[this.fullPath,e,t])},DirectoryEntry.prototype.remove=function(e,t){PhoneGap.exec(e,t,"File","remove",[this.fullPath])},DirectoryEntry.prototype.toURI=function(e){return"file://"+this.fullPath},DirectoryEntry.prototype.createReader=function(e,t){return new DirectoryReader(this.fullPath)},DirectoryEntry.prototype.getDirectory=function(e,t,n,r){PhoneGap.exec(n,r,"File","getDirectory",[this.fullPath,e,t])},DirectoryEntry.prototype.getFile=function(e,t,n,r){PhoneGap.exec(n,r,"File","getFile",[this.fullPath,e,t])},DirectoryEntry.prototype.removeRecursively=function(e,t){PhoneGap.exec(e,t,"File","removeRecursively",[this.fullPath])};var FileEntry=function(){this.isFile=!0,this.isDirectory=!1,this.name=null,this.fullPath=null,this.filesystem=null};FileEntry.prototype.copyTo=function(e,t,n,r){PhoneGap.exec(n,r,"File","copyTo",[this.fullPath,e,t])},FileEntry.prototype.getMetadata=function(e,t){PhoneGap.exec(e,t,"File","getMetadata",[this.fullPath])},FileEntry.prototype.getParent=function(e,t){PhoneGap.exec(e,t,"File","getParent",[this.fullPath])},FileEntry.prototype.moveTo=function(e,t,n,r){PhoneGap.exec(n,r,"File","moveTo",[this.fullPath,e,t])},FileEntry.prototype.remove=function(e,t){PhoneGap.exec(e,t,"File","remove",[this.fullPath])},FileEntry.prototype.toURI=function(e){return"file://"+this.fullPath},FileEntry.prototype.createWriter=function(e,t){this.file(function(n){var r=new FileWriter(n);(r.fileName===null||r.fileName==="")&&typeof t=="function"&&t({code:FileError.INVALID_STATE_ERR}),typeof e=="function"&&e(r)},t)},FileEntry.prototype.file=function(e,t){PhoneGap.exec(e,t,"File","getFileMetadata",[this.fullPath])};var LocalFileSystem=function(){};LocalFileSystem.TEMPORARY=0,LocalFileSystem.PERSISTENT=1,LocalFileSystem.RESOURCE=2,LocalFileSystem.APPLICATION=3,LocalFileSystem.prototype.requestFileSystem=function(e,t,n,r){e<0||e>3?typeof r=="function"&&r({code:FileError.SYNTAX_ERR}):PhoneGap.exec(n,r,"File","requestFileSystem",[e,t])},LocalFileSystem.prototype.resolveLocalFileSystemURI=function(e,t,n){PhoneGap.exec(t,n,"File","resolveLocalFileSystemURI",[e])},LocalFileSystem.prototype._castFS=function(e){var t=null;return t=new DirectoryEntry,t.isDirectory=e.message.root.isDirectory,t.isFile=e.message.root.isFile,t.name=e.message.root.name,t.fullPath=e.message.root.fullPath,e.message.root=t,e},LocalFileSystem.prototype._castEntry=function(e){var t=null;return e.message.isDirectory?(console.log("This is a dir"),t=new DirectoryEntry):e.message.isFile&&(console.log("This is a file"),t=new FileEntry),t.isDirectory=e.message.isDirectory,t.isFile=e.message.isFile,t.name=e.message.name,t.fullPath=e.message.fullPath,e.message=t,e},LocalFileSystem.prototype._castEntries=function(e){var t=e.message,n=[];for(var r=0;r<t.length;r++)n.push(window.localFileSystem._createEntry(t[r]));return e.message=n,e},LocalFileSystem.prototype._createEntry=function(e){var t=null;return e.isDirectory?(console.log("This is a dir"),t=new DirectoryEntry):e.isFile&&(console.log("This is a file"),t=new FileEntry),t.isDirectory=e.isDirectory,t.isFile=e.isFile,t.name=e.name,t.fullPath=e.fullPath,t},LocalFileSystem.prototype._castDate=function(e){if(e.message.modificationTime){var t=new Date(e.message.modificationTime);e.message.modificationTime=t}else if(e.message.lastModifiedDate){var n=new File;n.size=e.message.size,n.type=e.message.type,n.name=e.message.name,n.fullPath=e.message.fullPath,n.lastModifiedDate=new Date(e.message.lastModifiedDate),e.message=n}return e},PhoneGap.addConstructor(function(){var e=new LocalFileSystem;typeof window.localFileSystem=="undefined"&&(window.localFileSystem=e),typeof window.requestFileSystem=="undefined"&&(window.requestFileSystem=e.requestFileSystem),typeof window.resolveLocalFileSystemURI=="undefined"&&(window.resolveLocalFileSystemURI=e.resolveLocalFileSystemURI)})}if(!PhoneGap.hasResource("filetransfer")){PhoneGap.addResource("filetransfer");var FileTransfer=function(){},FileUploadResult=function(){this.bytesSent=0,this.responseCode=null,this.response=null},FileTransferError=function(){this.code=null};FileTransferError.FILE_NOT_FOUND_ERR=1,FileTransferError.INVALID_URL_ERR=2,FileTransferError.CONNECTION_ERR=3,FileTransfer.prototype.upload=function(e,t,n,r,i,s){var o=null,u=null,a=null,f=null,l=!0;if(i){o=i.fileKey,u=i.fileName,a=i.mimeType;if(i.chunkedMode!=null||typeof i.chunkedMode!="undefined")l=i.chunkedMode;i.params?f=i.params:f={}}PhoneGap.exec(n,r,"FileTransfer","upload",[e,t,o,u,a,f,s,l])};var FileUploadOptions=function(e,t,n,r){this.fileKey=e||null,this.fileName=t||null,this.mimeType=n||null,this.params=r||null}}if(!PhoneGap.hasResource("geolocation")){PhoneGap.addResource("geolocation");var Geolocation=function(){this.lastPosition=null,this.listeners={}},PositionError=function(e,t){this.code=e,this.message=t};PositionError.PERMISSION_DENIED=1,PositionError.POSITION_UNAVAILABLE=2,PositionError.TIMEOUT=3,Geolocation.prototype.getCurrentPosition=function(e,t,n){if(navigator._geo.listeners.global){console.log("Geolocation Error: Still waiting for previous getCurrentPosition() request.");try{t(new PositionError(PositionError.TIMEOUT,"Geolocation Error: Still waiting for previous getCurrentPosition() request."))}catch(r){}return}var i=1e4,s=!1,o=1e4;typeof n!="undefined"&&(typeof n.maximumAge!="undefined"&&(i=n.maximumAge),typeof n.enableHighAccuracy!="undefined"&&(s=n.enableHighAccuracy),typeof n.timeout!="undefined"&&(o=n.timeout)),navigator._geo.listeners.global={success:e,fail:t},PhoneGap.exec(null,null,"Geolocation","getCurrentLocation",[s,o,i])},Geolocation.prototype.watchPosition=function(e,t,n){var r=1e4,i=!1,s=1e4;typeof n!="undefined"&&(typeof n.frequency!="undefined"&&(r=n.frequency),typeof n.maximumAge!="undefined"&&(r=n.maximumAge),typeof n.enableHighAccuracy!="undefined"&&(i=n.enableHighAccuracy),typeof n.timeout!="undefined"&&(s=n.timeout));var o=PhoneGap.createUUID();return navigator._geo.listeners[o]={success:e,fail:t},PhoneGap.exec(null,null,"Geolocation","start",[o,i,s,r]),o},Geolocation.prototype.success=function(e,t,n,r,i,s,o,u){var a=new Coordinates(t,n,r,i,s,o),f=new Position(a,u);try{t==="undefined"||n==="undefined"?navigator._geo.listeners[e].fail(new PositionError(PositionError.POSITION_UNAVAILABLE,"Lat/Lng are undefined.")):(navigator._geo.lastPosition=f,navigator._geo.listeners[e].success(f))}catch(l){console.log("Geolocation Error: Error calling success callback function.")}e==="global"&&delete navigator._geo.listeners.global},Geolocation.prototype.fail=function(e,t,n){try{navigator._geo.listeners[e].fail(new PositionError(t,n))}catch(r){console.log("Geolocation Error: Error calling error callback function.")}},Geolocation.prototype.clearWatch=function(e){PhoneGap.exec(null,null,"Geolocation","stop",[e]),delete navigator._geo.listeners[e]},Geolocation.usingPhoneGap=!1,Geolocation.usePhoneGap=function(){if(Geolocation.usingPhoneGap)return;Geolocation.usingPhoneGap=!0,navigator.geolocation.setLocation=navigator._geo.setLocation,navigator.geolocation.getCurrentPosition=navigator._geo.getCurrentPosition,navigator.geolocation.watchPosition=navigator._geo.watchPosition,navigator.geolocation.clearWatch=navigator._geo.clearWatch,navigator.geolocation.start=navigator._geo.start,navigator.geolocation.stop=navigator._geo.stop},PhoneGap.addConstructor(function(){navigator._geo=new Geolocation,typeof navigator.geolocation=="undefined"&&(navigator.geolocation=navigator._geo,Geolocation.usingPhoneGap=!0)})}if(!PhoneGap.hasResource("media")){PhoneGap.addResource("media");var Media=function(e,t,n,r,i){if(t&&typeof t!="function"){console.log("Media Error: successCallback is not a function");return}if(n&&typeof n!="function"){console.log("Media Error: errorCallback is not a function");return}if(r&&typeof r!="function"){console.log("Media Error: statusCallback is not a function");return}if(i&&typeof i!="function"){console.log("Media Error: positionCallback is not a function");return}this.id=PhoneGap.createUUID(),PhoneGap.mediaObjects[this.id]=this,this.src=e,this.successCallback=t,this.errorCallback=n,this.statusCallback=r,this.positionCallback=i,this._duration=-1,this._position=-1};Media.MEDIA_STATE=1,Media.MEDIA_DURATION=2,Media.MEDIA_POSITION=3,Media.MEDIA_ERROR=9,Media.MEDIA_NONE=0,Media.MEDIA_STARTING=1,Media.MEDIA_RUNNING=2,Media.MEDIA_PAUSED=3,Media.MEDIA_STOPPED=4,Media.MEDIA_MSG=["None","Starting","Running","Paused","Stopped"];var MediaError=function(){this.code=null,this.message=""};MediaError.MEDIA_ERR_NONE_ACTIVE=0,MediaError.MEDIA_ERR_ABORTED=1,MediaError.MEDIA_ERR_NETWORK=2,MediaError.MEDIA_ERR_DECODE=3,MediaError.MEDIA_ERR_NONE_SUPPORTED=4,Media.prototype.play=function(){PhoneGap.exec(null,null,"Media","startPlayingAudio",[this.id,this.src])},Media.prototype.stop=function(){return PhoneGap.exec(null,null,"Media","stopPlayingAudio",[this.id])},Media.prototype.seekTo=function(e){PhoneGap.exec(null,null,"Media","seekToAudio",[this.id,e])},Media.prototype.pause=function(){PhoneGap.exec(null,null,"Media","pausePlayingAudio",[this.id])},Media.prototype.getDuration=function(){return this._duration},Media.prototype.getCurrentPosition=function(e,t){PhoneGap.exec(e,t,"Media","getCurrentPositionAudio",[this.id])},Media.prototype.startRecord=function(){PhoneGap.exec(null,null,"Media","startRecordingAudio",[this.id,this.src])},Media.prototype.stopRecord=function(){PhoneGap.exec(null,null,"Media","stopRecordingAudio",[this.id])},Media.prototype.release=function(){PhoneGap.exec(null,null,"Media","release",[this.id])},Media.prototype.setVolume=function(e){PhoneGap.exec(null,null,"Media","setVolume",[this.id,e])},PhoneGap.mediaObjects={},PhoneGap.Media=function(){},PhoneGap.Media.getMediaObject=function(e){return PhoneGap.mediaObjects[e]},PhoneGap.Media.onStatus=function(e,t,n){var r=PhoneGap.mediaObjects[e];t===Media.MEDIA_STATE?(n===Media.MEDIA_STOPPED&&r.successCallback&&r.successCallback(),r.statusCallback&&r.statusCallback(n)):t===Media.MEDIA_DURATION?r._duration=n:t===Media.MEDIA_ERROR?r.errorCallback&&r.errorCallback({code:n}):t==Media.MEDIA_POSITION&&(r._position=n)}}if(!PhoneGap.hasResource("network")){PhoneGap.addResource("network");var Connection=function(){this.type=null,this._firstRun=!0,this._timer=null,this.timeout=500;var e=this;this.getInfo(function(t){t=="none"?e._timer=setTimeout(function(){e.type=t,PhoneGap.fireDocumentEvent("offline"),e._timer=null},e.timeout):(e._timer!=null&&(clearTimeout(e._timer),e._timer=null),e.type=t,PhoneGap.fireDocumentEvent("online")),e._firstRun&&(e._firstRun=!1,PhoneGap.onPhoneGapConnectionReady.fire())},function(t){e._firstRun&&(e._firstRun=!1,PhoneGap.onPhoneGapConnectionReady.fire()),console.log("Error initializing Network Connection: "+t)})};Connection.UNKNOWN="unknown",Connection.ETHERNET="ethernet",Connection.WIFI="wifi",Connection.CELL_2G="2g",Connection.CELL_3G="3g",Connection.CELL_4G="4g",Connection.NONE="none",Connection.prototype.getInfo=function(e,t){PhoneGap.exec(e,t,"Network Status","getConnectionInfo",[])},PhoneGap.addConstructor(function(){typeof navigator.network=="undefined"&&(navigator.network=new Object),typeof navigator.network.connection=="undefined"&&(navigator.network.connection=new Connection)})}if(!PhoneGap.hasResource("notification")){PhoneGap.addResource("notification");var Notification=function(){};Notification.prototype.alert=function(e,t,n,r){var i=n||"Alert",s=r||"OK";PhoneGap.exec(t,null,"Notification","alert",[e,i,s])},Notification.prototype.confirm=function(e,t,n,r){var i=n||"Confirm",s=r||"OK,Cancel";PhoneGap.exec(t,null,"Notification","confirm",[e,i,s])},Notification.prototype.activityStart=function(){PhoneGap.exec(null,null,"Notification","activityStart",["Busy","Please wait..."])},Notification.prototype.activityStop=function(){PhoneGap.exec(null,null,"Notification","activityStop",[])},Notification.prototype.progressStart=function(e,t){PhoneGap.exec(null,null,"Notification","progressStart",[e,t])},Notification.prototype.progressValue=function(e){PhoneGap.exec(null,null,"Notification","progressValue",[e])},Notification.prototype.progressStop=function(){PhoneGap.exec(null,null,"Notification","progressStop",[])},Notification.prototype.blink=function(e,t){},Notification.prototype.vibrate=function(e){PhoneGap.exec(null,null,"Notification","vibrate",[e])},Notification.prototype.beep=function(e){PhoneGap.exec(null,null,"Notification","beep",[e])},PhoneGap.addConstructor(function(){typeof navigator.notification=="undefined"&&(navigator.notification=new Notification)})}if(!PhoneGap.hasResource("position")){PhoneGap.addResource("position");var Position=function(e,t){this.coords=e,this.timestamp=t!=="undefined"?t:(new Date).getTime()},Coordinates=function(e,t,n,r,i,s,o){this.latitude=e,this.longitude=t,this.accuracy=r,this.altitude=n,this.heading=i,this.speed=s,this.altitudeAccuracy=o!=="undefined"?o:null},PositionOptions=function(){this.enableHighAccuracy=!0,this.timeout=1e4},PositionError=function(){this.code=null,this.message=""};PositionError.UNKNOWN_ERROR=0,PositionError.PERMISSION_DENIED=1,PositionError.POSITION_UNAVAILABLE=2,PositionError.TIMEOUT=3}if(!PhoneGap.hasResource("storage")){PhoneGap.addResource("storage");var DroidDB_Rows=function(){this.resultSet=[],this.length=0};DroidDB_Rows.prototype.item=function(e){return this.resultSet[e]};var DroidDB_Result=function(){this.rows=new DroidDB_Rows},DroidDB=function(){this.queryQueue={}};DroidDB.prototype.completeQuery=function(e,t){var n=this.queryQueue[e];if(n)try{delete this.queryQueue[e];var r=n.tx;if(r&&r.queryList[e]){var i=new DroidDB_Result;i.rows.resultSet=t,i.rows.length=t.length;try{typeof n.successCallback=="function"&&n.successCallback(n.tx,i)}catch(s){console.log("executeSql error calling user success callback: "+s)}r.queryComplete(e)}}catch(o){console.log("executeSql error: "+o)}},DroidDB.prototype.fail=function(e,t){var n=this.queryQueue[t];if(n)try{delete this.queryQueue[t];var r=n.tx;if(r&&r.queryList[t]){r.queryList={};try{typeof n.errorCallback=="function"&&n.errorCallback(n.tx,e)}catch(i){console.log("executeSql error calling user error callback: "+i)}r.queryFailed(t,e)}}catch(s){console.log("executeSql error: "+s)}};var DroidDB_Query=function(e){this.id=PhoneGap.createUUID(),droiddb.queryQueue[this.id]=this,this.resultSet=[],this.tx=e,this.tx.queryList[this.id]=this,this.successCallback=null,this.errorCallback=null},DroidDB_Tx=function(){this.id=PhoneGap.createUUID(),this.successCallback=null,this.errorCallback=null,this.queryList={}};DroidDB_Tx.prototype.queryComplete=function(e){delete this.queryList[e];if(this.successCallback){var t=0,n;for(n in this.queryList)this.queryList.hasOwnProperty(n)&&t++;if(t===0)try{this.successCallback()}catch(r){console.log("Transaction error calling user success callback: "+r)}}},DroidDB_Tx.prototype.queryFailed=function(e,t){this.queryList={};if(this.errorCallback)try{this.errorCallback(t)}catch(n){console.log("Transaction error calling user error callback: "+n)}},DroidDB_Tx.prototype.executeSql=function(e,t,n,r){typeof t=="undefined"&&(t=[]);var i=new DroidDB_Query(this);droiddb.queryQueue[i.id]=i,i.successCallback=n,i.errorCallback=r,PhoneGap.exec(null,null,"Storage","executeSql",[e,t,i.id])};var DatabaseShell=function(){};DatabaseShell.prototype.transaction=function(e,t,n){var r=new DroidDB_Tx;r.successCallback=n,r.errorCallback=t;try{e(r)}catch(i){console.log("Transaction error: "+i);if(r.errorCallback)try{r.errorCallback(i)}catch(s){console.log("Transaction error calling user error callback: "+i)}}};var DroidDB_openDatabase=function(e,t,n,r){PhoneGap.exec(null,null,"Storage","openDatabase",[e,t,n,r]);var i=new DatabaseShell;return i},CupcakeLocalStorage=function(){try{this.db=openDatabase("localStorage","1.0","localStorage",2621440);var e={};this.length=0;function t(e){this.length=e,localStorage.length=e}this.db.transaction(function(n){var r;n.executeSql("CREATE TABLE IF NOT EXISTS storage (id NVARCHAR(40) PRIMARY KEY, body NVARCHAR(255))"),n.executeSql("SELECT * FROM storage",[],function(n,r){for(var i=0;i<r.rows.length;i++)e[r.rows.item(i).id]=r.rows.item(i).body;t(r.rows.length),PhoneGap.initializationComplete("cupcakeStorage")})},function(e){alert(e.message)}),this.setItem=function(t,n){typeof e[t]=="undefined"&&this.length++,e[t]=n,this.db.transaction(function(e){e.executeSql("CREATE TABLE IF NOT EXISTS storage (id NVARCHAR(40) PRIMARY KEY, body NVARCHAR(255))"),e.executeSql("REPLACE INTO storage (id, body) values(?,?)",[t,n])})},this.getItem=function(t){return e[t]},this.removeItem=function(t){delete e[t],this.length--,this.db.transaction(function(e){e.executeSql("CREATE TABLE IF NOT EXISTS storage (id NVARCHAR(40) PRIMARY KEY, body NVARCHAR(255))"),e.executeSql("DELETE FROM storage where id=?",[t])})},this.clear=function(){e={},this.length=0,this.db.transaction(function(e){e.executeSql("CREATE TABLE IF NOT EXISTS storage (id NVARCHAR(40) PRIMARY KEY, body NVARCHAR(255))"),e.executeSql("DELETE FROM storage",[])})},this.key=function(t){var n=0;for(var r in e){if(n==t)return r;n++}return null}}catch(n){alert("Database error "+n+".");return}};PhoneGap.addConstructor(function(){var e=function(){navigator.openDatabase=window.openDatabase=DroidDB_openDatabase,window.droiddb=new DroidDB};typeof window.openDatabase=="undefined"?e():(window.openDatabase_orig=window.openDatabase,window.openDatabase=function(t,n,r,i){var s=null;try{s=window.openDatabase_orig(t,n,r,i)}catch(o){s=null}return s==null?(e(),DroidDB_openDatabase(t,n,r,i)):s}),typeof window.localStorage=="undefined"&&(navigator.localStorage=window.localStorage=new CupcakeLocalStorage,PhoneGap.waitForInitialization("cupcakeStorage"))})};